(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d73ec7c"],{"3a3a":function(e,t,n){},"3b4c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"75px"}},[n("el-form-item",{attrs:{label:"流程类型:",prop:"processDefinitionType"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择流程类型",clearable:"",size:"mini"},model:{value:e.queryParams.processDefinitionType,callback:function(t){e.$set(e.queryParams,"processDefinitionType",t)},expression:"queryParams.processDefinitionType"}},e._l(e.dict.type.process_define_type,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("el-row",{staticClass:"tableOperation",attrs:{gutter:20}},[n("el-row",{staticClass:"mb8",attrs:{gutter:10}},[n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.openTypeDialog}},[e._v("在线绘制流程(new)")])],1),n("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[n("el-table-column",{attrs:{label:"流程类型",align:"center",prop:"processDefinitionType"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("dict-tag",{attrs:{options:e.dict.type.process_define_type,value:t.row.processDefinitionType}})]}}])}),n("el-table-column",{attrs:{label:"部署ID",align:"center",prop:"deploymentId"}}),n("el-table-column",{attrs:{label:"定义ID",align:"center",prop:"processDefinitionId"}}),n("el-table-column",{attrs:{label:"流程名称",align:"center",prop:"processDefinitionName"}}),n("el-table-column",{attrs:{label:"版本",align:"center",prop:"processDefinitionVersion"}}),n("el-table-column",{attrs:{label:"部署时间",align:"center",prop:"deployTime"}}),n("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["activiti:modeler"],expression:"['activiti:modeler']"}],attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(n){return e.OnlineModificationProcess(t.row)}}},[e._v("查看")]),n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["activiti:modeler"],expression:"['activiti:modeler']"}],attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e.dialogVisible?n("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,"close-on-click-modal":!1,fullscreen:!0,width:"98%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("vue-bpmn",{ref:"sss",staticStyle:{overflow:"hidden",height:"100%"},attrs:{product:"activiti",processId:e.processId,initTemplate:e.initTemplate},on:{processSave:e.processSave,closeDialogGrandFather:function(t){return e.closeDialogGrandFather()}}})],1):e._e(),n("el-dialog",{attrs:{title:"请选择绘制类型",visible:e.typeDialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.typeDialogVisible=t}}},[n("el-form",{ref:"form",attrs:{"label-width":"100px",rules:e.rules,model:e.form}},[n("el-form-item",{attrs:{label:"流程类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择流程类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFor("add")}}},[e._v("确 定")]),n("el-button",{on:{click:function(t){e.typeDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],i=(n("d3b7"),n("0643"),n("4e3e"),n("159b"),n("ff02")),s=n("5f87"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"bpmn-viewer"},[n("vue-header",{staticClass:"bpmn-viewer-header",attrs:{processData:e.initData,modeler:e.bpmnModeler},on:{restart:e.restart,handleExportSvg:e.handleExportSvg,handleExportBpmn:e.handleExportBpmn,processSave:e.processSave,closeDialogFather:e.closeDialogFather}}),n("div",{staticClass:"bpmn-viewer-container"},[n("div",{ref:"bpmnViewer",staticClass:"bpmn-viewer-content"})])],1),e.bpmnModeler?n("bpmn-panel",{attrs:{modeler:e.bpmnModeler,process:e.initData}}):e._e()],1)},l=[],p=(n("b0c0"),n("3ca3"),n("ddb0"),n("2b3d"),n("bf19"),n("9861"),n("88a7"),n("271a"),n("5494"),n("ac1f"),n("5319"),'\n      <bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">\n      <bpmn2:process id="process{str}" name="流程{str}">\n        <bpmn2:startEvent id="StartEvent_01ydzqe" name="开始" />\n      </bpmn2:process>\n      <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="process{str}">\n          <bpmndi:BPMNShape id="StartEvent_01ydzqe_di" bpmnElement="StartEvent_01ydzqe">\n            <dc:Bounds x="142" y="212" width="36" height="36" />\n            <bpmndi:BPMNLabel>\n              <dc:Bounds x="149" y="255" width="22" height="14" />\n            </bpmndi:BPMNLabel>\n          </bpmndi:BPMNShape>\n        </bpmndi:BPMNPlane>\n      </bpmndi:BPMNDiagram>\n    </bpmn2:definitions>'),m={initTemplate:function(e){return p.replace(/{str}/g,e)}},c=n("4fce"),u={"Activate the global connect tool":"启动全局连接工具","Append {type}":"追加 {type}","Add Lane above":"添加到通道之上","Divide into two Lanes":"分成两条通道","Divide into three Lanes":"分成三条通道","Add Lane below":"添加到通道之下","Append compensation activity":"追加补偿活动","Change type":"更改类型","Connect using Association":"文本关联","Connect using Sequence/MessageFlow or Association":"消息关联","Connect using DataInputAssociation":"数据关联",Remove:"移除","Activate the hand tool":"启动手动工具","Activate the lasso tool":"启动 Lasso 工具","Activate the create/remove space tool":"启动创建/删除空间工具","Create expanded SubProcess":"创建可折叠子流程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多实例","Sequential Multi Instance":"串行多实例",Loop:"循环","Ad-hoc":"Ad-hoc子流程","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接受任务","User Task":"用户任务","Manual Task":"手动任务","Business Rule Task":"规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"引用流程","Sub Process (collapsed)":"可折叠子流程","Sub Process (expanded)":"可展开子流程","Start Event":"开始事件","Intermediate Throw Event":"中间抛出事件","End Event":"结束事件","Message Start Event":"消息启动事件","Timer Start Event":"定时启动事件","Conditional Start Event":"条件启动事件","Signal Start Event":"信号启动事件","Error Start Event":"错误启动事件","Escalation Start Event":"升级启动事件","Compensation Start Event":"补偿启动事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)","Message Intermediate Catch Event":"中间消息捕获事件","Message Intermediate Throw Event":"中间消息抛出事件","Timer Intermediate Catch Event":"中间定时捕获事件","Escalation Intermediate Throw Event":"中间升级抛出事件","Conditional Intermediate Catch Event":"中间条件捕获事件","Link Intermediate Catch Event":"中间链接捕获事件","Link Intermediate Throw Event":"中间链接抛出事件","Compensation Intermediate Throw Event":"中间补偿抛出事件","Signal Intermediate Catch Event":"中间信号捕获事件","Signal Intermediate Throw Event":"中间信号抛出事件","Message End Event":"结束消息事件","Escalation End Event":"结束升级事件","Error End Event":"结束错误事件","Cancel End Event":"结束取消事件","Compensation End Event":"结束补偿事件","Signal End Event":"结束信号事件","Terminate End Event":"终止边界事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件 (非中断)","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件 (非中断)","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件 (非中断)","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件 (非中断)","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件 (非中断)","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"独占网关","Parallel Gateway":"并行网关","Inclusive Gateway":"包容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"事务","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在 {element} 中没有父元素 {parent}","no shape type specified":"未指定形状类型","flow elements must be children of pools/participants":"元素必须是池/参与者的子级","out of bounds release":"越界释放","more than {count} child lanes":"超过 {count} 条通道","element required":"需要元素","diagram not part of bpmn:Definitions":"图表不是 bpmn:Definitions 的一部分","no diagram to display":"没有要显示的图表","no process or collaboration to display":"没有可显示的流程或协作","element {element} referenced by {referenced}#{property} not yet drawn":"元素 {element} 的引用 {referenced}#{property} 尚未绘制","already rendered {element}":"{element} 已呈现","failed to import {element}":"{element} 导入失败","Create StartEvent":"创建开始节点","Create Intermediate/Boundary Event":"创建中间/边界事件","Create EndEvent":"创建结束节点","Create Gateway":"创建网关","Create Task":"创建任务","Append ExclusiveGateway":"网关","Append UserTask":"用户任务","Append EndEvent":"结束节点"};function d(e,t){return t=t||{},e=u[e]||e,e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button-group",[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"保存并发布",placement:"bottom"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.deploy}},[n("i",{staticClass:"fa fa-save"},[e._v(" 保存并发布")])])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"创建新流程图",placement:"bottom"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.reset}},[n("i",{staticClass:"fa fa-plus-circle"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载流程图",placement:"bottom"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downloadSvg}},[n("i",{staticClass:"fa fa-picture-o"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载流程文件",placement:"bottom"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downloadBpmn}},[n("i",{staticClass:"fa fa-download"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"撤销",placement:"bottom"}},[n("el-button",{attrs:{size:"mini"}},[n("i",{staticClass:"fa fa-rotate-left",on:{click:e.undo}})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"恢复",placement:"bottom"}},[n("el-button",{attrs:{size:"mini"}},[n("i",{staticClass:"fa fa-rotate-right",class:e.canRedo?"":"default-undo",on:{click:e.redo}})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"放大",placement:"bottom"}},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.zoom(.05)}}},[n("i",{staticClass:"fa fa-search-plus"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"缩小",placement:"bottom"}},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.zoom(-.05)}}},[n("i",{staticClass:"fa fa-search-minus"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置",placement:"bottom"}},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.zoom(0)}}},[n("i",{staticClass:"fa fa-arrows"})])],1)],1)],1)},f=[],b=n("b775");function g(e){return Object(b["a"])({url:"/processDefinition/myAddDeploymentByString",method:"post",data:e})}var v={name:"ViewerHeader",data:function(){return{scale:1,canRedo:!1}},props:{processData:{type:Object},modeler:{type:Object}},components:{},methods:{deploy:function(){var e,t=this;this.modeler.saveXML((function(t,n){t&&console.error(t),e=n})),this.modeler.saveSVG((function(e,t){e&&console.error(e),t}));var n={stringBPMN:e,type:localStorage.getItem("flowbale_type_value")};this.$emit("upRocket","传值到爷爷组件"),g(n).then((function(e){t.$message.success("保存成功！"),t.$emit("closeDialogFather")}))},save:function(){var e,t,n=this;this.modeler.saveXML((function(t,n){t&&console.error(t),e=n})),this.modeler.saveSVG((function(e,n){e&&console.error(e),t=n})),n.$emit("processSave",{xmlStr:e,svgStr:t})},reset:function(){this.$emit("restart")},downloadSvg:function(){this.$emit("handleExportSvg")},downloadBpmn:function(){this.$emit("handleExportBpmn")},undo:function(){this.modeler.get("commandStack").undo(),this.canRedo=this.modeler.get("commandStack").canRedo()},redo:function(){this.canRedo&&(this.modeler.get("commandStack").redo(),this.canRedo=this.modeler.get("commandStack").canRedo())},zoom:function(e){var t=e?this.scale+e<=.2?.2:this.scale+e:1;this.modeler.get("canvas").zoom(t),this.scale=t}}},h=v,S=n("2877"),A=Object(S["a"])(h,y,f,!1,null,"81aa6c1a",null),E=A.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bpmn-panel"},[n("el-container",[n("el-header",{attrs:{height:"45px"}},[n("div",{staticClass:"config-tab",class:{active:"node"==e.configTab},on:{click:function(t){return e.handleConfigSelect("node")}}},[e._v("节点属性")]),n("div",{staticClass:"config-tab",class:{active:"process"==e.configTab},on:{click:function(t){return e.handleConfigSelect("process")}}},[e._v("流程属性")])]),n("el-main",["node"==e.configTab?n("node-property-panel",{ref:"nodePanel",attrs:{modeler:e.modeler,nodeElement:e.nodeElement,formData:e.formData},on:{modifyConfigTab:e.modifyConfigTab,modifyFormData:e.modifyFormData}}):e._e(),"process"==e.configTab?n("process-property-panel",{attrs:{modeler:e.modeler,"process-data":e.process,element:e.element}}):e._e()],1)],1),1==e.panelIndex?n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[e._v(" 基本设置 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("el-form",{attrs:{"label-position":"right","label-width":"70px"}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input")],1),n("el-form-item",{attrs:{label:"描述信息"}},[n("el-input",{attrs:{type:"textarea"},on:{input:e.nameChange},model:{value:e.form.document,callback:function(t){e.$set(e.form,"document",t)},expression:"form.document"}})],1)],1)],1)],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[e._v(" 执行监听器 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("div",{staticStyle:{"margin-bottom":"4px"}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("添加")]),n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("选择")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{border:""}},[n("el-table-column",{attrs:{label:"事件"}}),n("el-table-column",{attrs:{label:"类型"}}),n("el-table-column",{attrs:{label:"实现"}}),n("el-table-column",{attrs:{label:"操作"}})],1)],1)],2),n("el-collapse-item",{attrs:{name:"3"}},[n("template",{slot:"title"},[e._v(" 权限设置 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("el-form",{attrs:{"label-position":"right","label-width":"70px"}},[n("el-form-item",{attrs:{label:"允许启动"}},[n("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("所有成员")]),n("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("指导成员")])],1),n("el-form-item",{attrs:{label:"添加用户"}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请选择"},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),n("el-form-item",{attrs:{label:"添加角色"}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请选择"},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)],1)],1)],2)],1):e._e(),1==e.panelIndex?n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[e._v(" 基本设置 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("el-form",{attrs:{"label-position":"right","label-width":"70px"}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input")],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input")],1),n("el-form-item",{attrs:{label:"描述信息"}},[n("el-input",{attrs:{type:"textarea"}})],1),n("el-form-item",{attrs:{label:"发起人"}},[n("el-input")],1)],1)],1)],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[e._v(" 执行监听器 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("div",{staticClass:"collapse-item-header"},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"}},[e._v("添加")]),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit-outline"}},[e._v("修改")]),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"}},[e._v("删除")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{border:""}},[n("el-table-column",{attrs:{label:"",width:"40px"}}),n("el-table-column",{attrs:{label:"表单名称"}}),n("el-table-column",{attrs:{label:"版本"}}),n("el-table-column",{attrs:{label:"表单key"}})],1)],1)],2),n("el-collapse-item",{attrs:{name:"3"}},[n("template",{slot:"title"},[e._v(" 监听器 "),n("i",{staticClass:"header-icon el-icon-info"})]),n("div",[n("div",{staticStyle:{"margin-bottom":"4px"}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("添加")]),n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("选择")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{border:""}},[n("el-table-column",{attrs:{label:"事件"}}),n("el-table-column",{attrs:{label:"类型"}}),n("el-table-column",{attrs:{label:"实现"}}),n("el-table-column",{attrs:{label:"操作"}})],1)],1)],2)],1):e._e()],1)},C=[],w=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!1,"label-width":"100px",size:"small","label-position":"right"}},[n("el-form-item",{attrs:{label:"节点类型"}},[n("el-input",{attrs:{disabled:""},model:{value:e.localFormData.type,callback:function(t){e.$set(e.localFormData,"type",t)},expression:"localFormData.type"}})],1),n("el-form-item",{attrs:{label:"节点ID"}},[n("el-input",{on:{input:e.updateId},model:{value:e.localFormData.id,callback:function(t){e.$set(e.localFormData,"id",t)},expression:"localFormData.id"}})],1),n("el-form-item",{attrs:{label:"节点名称"}},[n("el-input",{on:{input:e.updateName},model:{value:e.localFormData.name,callback:function(t){e.$set(e.localFormData,"name",t)},expression:"localFormData.name"}})],1),"bpmn:UserTask"==e.localFormData.type?n("el-form-item",{attrs:{label:"节点人员"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeUserType},model:{value:e.localFormData.userType,callback:function(t){e.$set(e.localFormData,"userType",t)},expression:"localFormData.userType"}},[n("el-option",{attrs:{value:"candidateUsers",label:"指定人员(可多选)"}}),n("el-option",{attrs:{value:"candidateGroups",label:"角色"}})],1)],1):e._e(),"bpmn:UserTask"==e.localFormData.type&&"assignee"===e.localFormData.userType?n("el-form-item",{attrs:{label:"指定人员"}},[n("el-select",{key:"1",attrs:{placeholder:"请选择"},on:{change:function(t){return e.addUser({assignee:t})}},model:{value:e.localFormData.assignee,callback:function(t){e.$set(e.localFormData,"assignee",t)},expression:"localFormData.assignee"}},e._l(e.bpmnData.assignees,(function(e){return n("el-option",{key:e.userId,attrs:{label:e.nickName+"("+e.dept.deptName+")",value:e.userId}})})),1)],1):"bpmn:UserTask"==e.localFormData.type&&"candidateUsers"===e.localFormData.userType?n("el-form-item",{attrs:{label:"候选人员"}},[n("el-select",{key:"2",attrs:{placeholder:"请选择",multiple:"",filterable:""},on:{change:function(t){return e.addUser({candidateUsers:t.join(",")||t})}},model:{value:e.localFormData.candidateUsers,callback:function(t){e.$set(e.localFormData,"candidateUsers",t)},expression:"localFormData.candidateUsers"}},e._l(e.bpmnData.candidateUsers,(function(e){return n("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)],1):"bpmn:UserTask"==e.localFormData.type&&"candidateGroups"===e.localFormData.userType?n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.addUser({candidateGroups:t})}},model:{value:e.localFormData.candidateGroups,callback:function(t){e.$set(e.localFormData,"candidateGroups",t)},expression:"localFormData.candidateGroups"}},e._l(e.bpmnData.roles,(function(e){return n("el-option",{key:e.roleKey,attrs:{label:e.roleName,value:e.roleKey}})})),1)],1):e._e(),n("el-form-item",{attrs:{label:"表达式"}},[n("el-input",{attrs:{placeholder:"请输入表达式"},model:{value:e.bdsValue,callback:function(t){e.bdsValue=t},expression:"bdsValue"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.addBds()}},slot:"append"})],1)],1),"bpmn:SequenceFlow"==e.localFormData.type?n("el-form-item",{attrs:{label:"分支条件"}},[n("el-input",{attrs:{placeholder:"请输入分支条件"},on:{input:e.updateSequenceFlow},model:{value:e.localFormData.sequenceFlow,callback:function(t){e.$set(e.localFormData,"sequenceFlow",t)},expression:"localFormData.sequenceFlow"}})],1):e._e(),n("el-form-item",["bpmn:SequenceFlow"==e.localFormData.type?n("Tip"):e._e()],1)],1)],1)}),x=[];n("14d9"),n("b64b"),n("25f0");function T(){return Object(b["a"])({url:"/user/listUsersToWorkflow",method:"get"})}function k(){return Object(b["a"])({url:"/user/queryAllSysRole",method:"get"})}var P={name:"NodePropertyPanel",data:function(){return{bpmnData:{assignees:[],candidateUsers:[],roles:[],jytAssignee:[]},dialogTableVisible:!1,localFormData:this.formData,proData:[],bdsValue:""}},props:{modeler:{type:Object,required:!0},nodeElement:{type:Object,required:!0},formData:{type:Object,required:!0}},watch:{nodeElement:{handler:function(){"bpmn:StartEvent"==this.nodeElement.type&&this.updateName("开始"),"bpmn:EndEvent"==this.nodeElement.type&&this.updateName("结束")}}},methods:{updateProperties:function(e){this.modeler.get("modeling").updateProperties(this.nodeElement,e)},updateId:function(e){this.updateProperties({id:e})},updateName:function(e){this.updateProperties({name:e})},changeUserType:function(e){var t={};"assignee"===e&&(t.candidateUsers=void 0,t.candidateGroups=void 0),"candidateUsers"===e&&(t.assignee=void 0,t.candidateGroups=void 0),"candidateGroups"===e&&(t.assignee=void 0,t.candidateUsers=void 0),this.updateProperties(t)},updateSequenceFlow:function(e){var t=this.modeler.get("moddle").create("bpmn:FormalExpression",{body:e});this.updateProperties({conditionExpression:t})},addUser:function(e){this.updateProperties(e),Object.assign(e,{userType:Object.keys(e)[0]}),console.log(e,"--"),this.$emit("modifyFormData",e)},listUsers:function(){var e=this;this.bpmnData.assignees=[],T().then((function(t){t.data.forEach((function(t){e.bpmnData.assignees.push({userId:t.userId.toString(),nickName:t.nickName,dept:{deptName:t.deptName}})})),e.bpmnData.candidateUsers=t.data}))},listRoleToWorkflow:function(){var e=this;this.bpmnData.roles=[],k().then((function(t){e.bpmnData.roles=t.data}))},addBds:function(){var e={assignee:this.bdsValue};this.addUser(e),this.$message({message:"赋值成功",type:"success"})}},created:function(){this.listUsers(),this.listRoleToWorkflow()}},I=P,F=(n("abc7"),Object(S["a"])(I,w,x,!1,null,"8489f7f0",null)),B=F.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!1,model:e.localProcessData,"label-width":"100px",size:"small","label-position":"left"}},[n("el-form-item",{attrs:{label:"流程ID"}},[n("el-input",{on:{input:e.updateId},model:{value:e.localProcessData.key,callback:function(t){e.$set(e.localProcessData,"key",t)},expression:"localProcessData.key"}})],1),n("el-form-item",{attrs:{label:"流程名称"}},[n("el-input",{on:{input:e.updateName},model:{value:e.localProcessData.name,callback:function(t){e.$set(e.localProcessData,"name",t)},expression:"localProcessData.name"}})],1),n("el-form-item",{attrs:{label:"流程描述"}},[n("el-input",{on:{input:e.updateDesc},model:{value:e.localProcessData.description,callback:function(t){e.$set(e.localProcessData,"description",t)},expression:"localProcessData.description"}})],1)],1)],1)},O=[],_={name:"ProcessProperty",data:function(){return{localProcessData:this.processData}},props:{processData:{type:Object,required:!0},modeler:{type:Object,required:!0},element:{type:Object,required:!0}},methods:{updateId:function(e){this.modeler.get("modeling").updateProperties(this.element,{id:e})},updateName:function(e){this.modeler.get("modeling").updateProperties(this.element,{name:e})},updateDesc:function(e){var t=this.modeler.get("bpmnFactory").create("bpmn:Documentation",{text:e});this.modeler.get("modeling").updateProperties(this.element,{documentation:[t]})}}},L=_,V=Object(S["a"])(L,M,O,!1,null,"31fac97a",null),U=V.exports,$={name:"index",data:function(){return{configTab:"node",panelIndex:8,element:null,nodeElement:{},formData:{}}},props:{modeler:{type:Object,required:!0},process:{type:Object,required:!0}},mounted:function(){this.handleModeler()},methods:{handleConfigSelect:function(e){var t=this;this.configTab=e,"node"==e&&this.$nextTick((function(){t.$refs.nodePanel.bdsValue=t.formData.assignee,t.$refs.nodePanel.selectDynamicForm()}))},handleModeler:function(){var e=this,t=this;this.modeler.on("root.added",(function(t){var n=t.element;e.isImplicitRoot(n)||(e.element=n)})),this.modeler.on("commandStack.changed",(function(){t.modeler.saveXML({format:!0},(function(e,n){t.$emit("updateXml",n)}))})),this.modeler.on("selection.changed",(function(t){var n=t.newSelection[0];n&&(e.modifyConfigTab(n),e.handleFormData(n))})),this.modeler.on("element.changed",(function(t){var n=t.element;n&&e.handleFormData(n)})),this.modeler.on("element.click",(function(n){var a=n.element;if(a.type==e.modeler._definitions.rootElements[0].$type)e.modifyConfigTab(1);else if(e.modifyConfigTab(0),"bpmn:UserTask"==a.type){var r=a.businessObject;if(console.log(r),r.assignee&&(t.formData.userType="assignee",t.formData.assignee=r.assignee),r.candidateGroups&&(t.formData.userType="candidateGroups",t.formData.candidateGroups=r.candidateGroups),r.candidateUsers){if(t.formData.userType="candidateUsers",r.candidateUsers)for(var i=r.candidateUsers.split(","),s=[],o=0;o<i.length;o++)s[o]=Number(i[o]);t.formData.candidateUsers=s}}}))},isImplicitRoot:function(e){return"__implicitroot"===e.id},modifyConfigTab:function(e){var t="node";e||(t="process"),this.configTab=t},handleFormData:function(e){if(e.id){var t=e.businessObject;console.log(t,"-------000-----------------"),this.formData={type:e.type,id:t.id,name:t.name,userType:t.$attrs.userType,assignee:t.$attrs.assignee,candidateGroups:t.$attrs.candidateGroups,candidateUsers:t.$attrs.candidateUsers?t.$attrs.candidateUsers.split(","):[],sequenceFlow:t.conditionExpression?t.conditionExpression.body:""},this.nodeElement=e}},modifyFormData:function(e){this.formData.assignee=e.assignee,this.formData.userType=e.userType}},components:{NodePropertyPanel:B,ProcessPropertyPanel:U}},N=$,R=(n("a136"),Object(S["a"])(N,D,C,!1,null,"38636634",null)),G=R.exports,q=n("56be"),j=n("4638"),z=(n("d4a3"),n("d6b1"),{name:"VueBpmn",data:function(){return{bpmnModeler:null,initData:{}}},props:{product:String,initTemplate:{type:String},processId:{type:String}},components:{VueHeader:E,BpmnPanel:G},mounted:function(){this.initData={key:this.processId,name:"流程"+this.processId,xml:this.initTemplate},this.init()},methods:{closeDialogFather:function(){this.$emit("closeDialogGrandFather")},init:function(){var e=this.getModdleExtensions();this.canvas=this.$refs.bpmnViewer,this.bpmnModeler=new c["a"]({container:this.canvas,additionalModules:[{translate:["value",d]}],moddleExtensions:e}),this.initDiagram(this.initTemplate)},initDiagram:function(e){this.bpmnModeler.importXML(e,(function(e){var t=document.getElementsByTagName("svg")[0];t&&(t.style.width="100%",t.style.height="700px")}))},handleExportBpmn:function(){var e=this;this.bpmnModeler.saveXML((function(t,n){t&&console.error(t);var a=e.setEncoded("BPMN",n),r=a.filename,i=a.href;if(i&&r){var s=document.createElement("a");s.download=r,s.href=i,s.click(),URL.revokeObjectURL(s.href)}}))},handleExportSvg:function(){var e=this;this.bpmnModeler.saveSVG((function(t,n){t&&console.error(t);var a=e.setEncoded("SVG",n),r=a.filename,i=a.href;if(i&&r){var s=document.createElement("a");s.download=r,s.href=i,s.click(),URL.revokeObjectURL(s.href)}}))},setEncoded:function(e,t){var n=encodeURIComponent(t);if(t){if("XML"===e)return{filename:"diagram.bpmn20.xml",href:"data:application/bpmn20-xml;charset=UTF-8,"+n,data:t};if("BPMN"===e)return{filename:"diagram.bpmn",href:"data:application/bpmn20-xml;charset=UTF-8,"+n,data:t};if("SVG"===e)return this.initData.svg=t,{filename:"diagram.svg",href:"data:application/text/xml;charset=UTF-8,"+n,data:t}}},processSave:function(e){var t=this.initData;e.procId=t.key,e.name=t.name,this.$emit("processSave",e)},restart:function(){var e=(new Date).getTime();this.initTemplate=m.initTemplate(e),this.initData={key:"process"+e,name:"流程"+e,xml:this.initTemplate},this.initDiagram(this.initTemplate)},getModdleExtensions:function(){var e={};return"flowable"==this.product&&(e={flowable:j}),"activiti"==this.product&&(e={activiti:q}),e}}}),X=z,J=Object(S["a"])(X,o,l,!1,null,"472ee269",null),H=J.exports,K={components:{VueBpmn:H},dicts:["process_define_type"],name:"ActIdGroup",data:function(){return{isShowFileTip:!0,dialogVisible:!1,modelerUrl:"",modelVisible:!1,typeDialogVisible:!1,loading:!0,single:!0,multiple:!0,showSearch:!0,total:0,Modeler:[],title:"",open:!1,src:"",form:{},typeOptions:[],queryParams:{pageNum:1,pageSize:10,id:null,rev:null,name:null,processDefinitionType:null,type:null},rules:{type:[{required:!0,message:"请选择流程类型",trigger:"change"}],companyId:[{required:!0,message:"请选择合伙人",trigger:"change"}]},upload:{open:!1,title:"",isUploading:!1,headers:{Authorization:"Bearer "+Object(s["a"])()},url:"https://api.inter-trade.top/processDefinition/uploadStreamAndDeployment"},processId:"",initTemplate:"",processCategoryDits:[],companyList:[],fileList:[]}},created:function(){var e=this;this.getList(),this.getDicts("process_define_type").then((function(t){e.typeOptions=t.data})),this.getDicts("process_define_type").then((function(t){e.processCategoryDits=t.data}))},methods:{getAllCommpanyList:function(){var e=this,t={deptType:2};noPageSelectDept(t).then((function(t){e.companyList=t.data}))},processCategoryFormatter:function(e){return this.selectDictLabel(this.processCategoryDits,e.category)},closeDialogGrandFather:function(){this.dialogVisible=!1,this.getList()},getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},suspendOrActiveApply:function(e){var t=this,n="2"===e.suspendState?"激活":"挂起";this.$confirm("确认要"+n+"流程定义吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:e.id,suspendState:e.suspendState};return Object(i["e"])(t)})).then((function(){t.getList(),t.msgSuccess("转换成功")})).catch((function(){}))},handleImport:function(){this.resetForm("form"),this.$nextTick((function(){this.$refs.upload.clearFiles()})),this.fileList=[],this.upload.title="上传模型图",this.upload.open=!0},typeDialog:function(){this.typeDialogVisible=!0},submitFor:function(e){var t=this;this.$refs["form"].validate((function(e){if(e){if(!e)return t.msgError("失败，请重新提交！"),!1;localStorage.setItem("flowbale_type_value",t.form.type),t.typeDialogVisible=!1,t.dialogVisible=!0,localStorage.setItem("VUE_APP_BASE_API","https://api.inter-trade.top"),t.modelerUrl="/bpmnjs/index.html?type=addBpmn"}}))},OnlineModificationProcess:function(e){var t=this;console.log(e,"===="),localStorage.setItem("flowbale_type_value",e.processDefinitionType);var n={deploymentId:e.deploymentId,resourceName:e.resourceName};Object(i["b"])(n).then((function(n){t.processId=e.key,t.initTemplate=n,t.dialogVisible=!0}))},submitFileForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){if(0==e.fileList.length)return void(e.isShowFileTip=!0);var n=new FormData;console.log(e.fileList,"this.fileList"),e.fileList.forEach((function(t){n.append("file",t.raw),n.append("type",e.form.type),n.append("companyId",e.form.companyId)})),Object(i["f"])(n).then((function(t){200==t.code?(e.$message({message:t.msg,type:"success"}),e.getList(),e.upload.open=!1):e.$message({message:t.msg,type:"warning"})}))}}))},handleFileUploadProgress:function(e,t,n){this.upload.isUploading=!0},handleFileSuccess:function(e,t,n){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},onChange:function(e,t){this.fileList=t,0!=t.length?this.isShowFileTip=!1:this.isShowFileTip=!0},handleRemove:function(e,t){0!=t.length?this.isShowFileTip=!1:this.isShowFileTip=!0,this.fileList=t},handleDelete:function(e){var t=this;this.$confirm("是否确认删除","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["a"])(e.deploymentId,e.processDefinitionType)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},modelCancel:function(){this.getList()},processSave:function(e){console.log(e,"---------")},openTypeDialog:function(){this.resetForm("form"),this.processId="",this.initTemplate="",this.processId="process"+(new Date).getTime(),this.initTemplate=m.initTemplate(this.processId),this.typeDialogVisible=!0},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){if(!t)return e.msgError("失败，请重新提交！"),!1;localStorage.setItem("type_value",e.form.type),e.typeDialogVisible=!1,e.dialogVisible=!0}}))},openVueBpmn:function(){}}},Q=K,W=Object(S["a"])(Q,a,r,!1,null,null,null);t["default"]=W.exports},"45b0":function(e,t,n){},4638:function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true},{"name":"executionListener","isAbstract":true,"type":"Expression"}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"multiinstance_type","superClass":["Element"]},{"name":"multiinstance_condition","superClass":["Element"]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"},{"name":"multiinstance_condition","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"56be":function(e){e.exports=JSON.parse('{"name":"Activiti","uri":"http://activiti.org/bpmn","prefix":"activiti","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","activiti:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"activiti:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true},{"name":"executionListener","isAbstract":true,"type":"Expression"}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"multiinstance_type","superClass":["Element"]},{"name":"multiinstance_condition","superClass":["Element"]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"},{"name":"multiinstance_condition","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["activiti:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","activiti:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["activiti:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","activiti:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["activiti:ServiceTaskLike","activiti:ExecutionListener","activiti:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["activiti:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["activiti:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},a136:function(e,t,n){"use strict";n("3a3a")},abc7:function(e,t,n){"use strict";n("45b0")},d4a3:function(e,t,n){},d6b1:function(e,t,n){},ff02:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p}));var a=n("b775");function r(e){return Object(a["a"])({url:"/processDefinition/list",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/processDefinition/suspendOrActiveApply",method:"post",data:e})}function s(e,t){return Object(a["a"])({url:"/processDefinition/remove/"+e+"/"+t,method:"delete"})}function o(e){return Object(a["a"])({url:"/processDefinition/getDefinitionXML",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/processDefinition/uploadStreamAndDeployment2",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/processDefinition/getHighLightedNodeVoByProcessInstanceId",method:"get",params:{instanceId:e.instanceId,procDefId:e.procDefId}})}}}]);